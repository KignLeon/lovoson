<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Onboarding | Lovoson Media</title>

    <!-- SEO META TAGS -->
    <meta name="robots" content="noindex, nofollow"> <!-- Private Portal -->

    <!-- FAVICON + STYLES -->
    <link rel="icon" href="/assets/favicon.ico" type="image/x-icon" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Linking to your existing style sheet -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <style>
        /* Specific Overrides for Onboarding */
        .glass-panel {
            background: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.5);
        }

        /* Accordion Styling */
        details>summary {
            list-style: none;
        }

        details>summary::-webkit-details-marker {
            display: none;
        }

        details[open] summary~* {
            animation: sweep .3s ease-in-out;
        }

        @keyframes sweep {
            0% {
                opacity: 0;
                transform: translateY(-10px)
            }

            100% {
                opacity: 1;
                transform: translateY(0)
            }
        }

        /* Custom Checkbox */
        .custom-checkbox input:checked+div {
            background-color: #10b981;
            /* Emerald 500 */
            border-color: #10b981;
        }

        .custom-checkbox input:checked+div svg {
            display: block;
        }

        /* Disabled Link Style */
        .btn-disabled {
            opacity: 0.5;
            cursor: not-allowed;
            filter: grayscale(1);
        }
    </style>
</head>

<body
    class="bg-gradient-to-tr from-white via-gray-200 to-gray-300 text-slate-800 font-sans antialiased pt-24 min-h-screen flex flex-col">

    <!-- HEADER -->
    <header id="main-header" class="fixed top-0 left-0 right-0 z-50 p-4">
        <div
            class="mx-auto flex justify-between items-center px-6 py-3 rounded-3xl liquid-glass max-w-7xl shadow-md bg-white/40 backdrop-blur-md">
            <a href="index.html" class="text-2xl font-bold text-black flex items-center gap-2">
                <!-- Using Cloudinary URL for reliability in preview, falls back to local if needed -->
                <img src="https://res.cloudinary.com/ddnhp0hzd/image/upload/v1762821610/lovoson_icon_fmdiol.svg"
                    alt="Icon" class="h-8 w-8">
                <span>Lovoson Media</span>
            </a>
            <nav class="hidden md:flex items-center space-x-6">
                <span class="text-sm font-semibold text-slate-500 uppercase tracking-wide">Client Portal</span>
                <a href="#" class="nav-link"><i class="fa-regular fa-circle-question mr-1"></i> Help</a>
            </nav>
            <div class="hidden md:flex gap-3">
                <a href="index.html" class="button-outline font-semibold py-2 px-4 text-sm">Log Out</a>
            </div>
            <!-- Mobile Menu Toggle -->
            <button id="nav-toggle" class="md:hidden text-2xl text-black"><i class="fa-solid fa-bars"></i></button>
        </div>
    </header>

    <!-- MAIN CONTENT -->
    <main class="flex-grow max-w-7xl mx-auto px-6 md:px-12 w-full pb-20">

        <!-- HERO SECTION -->
        <section class="text-center py-12 md:py-16">
            <div class="liquid-glass rounded-3xl p-8 md:p-12 inline-block w-full max-w-4xl mx-auto">
                <p class="text-slate-500 uppercase tracking-widest text-sm font-semibold mb-2">Onboarding Dashboard</p>
                <h1 class="text-4xl md:text-5xl font-bold text-black mb-4">
                    Welcome, <span id="client-name-display"
                        class="bg-clip-text text-transparent bg-gradient-to-r from-slate-800 to-slate-500">Client</span>.
                </h1>
                <p class="text-lg text-slate-700 max-w-2xl mx-auto">
                    Let’s get your growth system online. Follow the steps below to move from contract to launch.
                </p>
            </div>
        </section>

        <!-- COMMAND CENTER (Grid) -->
        <section class="grid md:grid-cols-3 gap-8 mb-12">

            <!-- LEFT: Client Snapshot -->
            <div class="card md:col-span-1 border border-white/50 h-full flex flex-col justify-between">
                <div>
                    <h3 class="text-xl font-bold text-black mb-6 flex items-center gap-2">
                        <i class="fa-solid fa-id-card-clip text-slate-400"></i> Client Snapshot
                    </h3>

                    <div class="space-y-4">
                        <div class="bg-white/50 p-4 rounded-xl border border-white/60">
                            <p class="text-xs text-slate-500 uppercase font-bold">Project</p>
                            <p class="text-black font-semibold">Full Service Scale System</p>
                        </div>

                        <div class="bg-white/50 p-4 rounded-xl border border-white/60">
                            <p class="text-xs text-slate-500 uppercase font-bold">Current Status</p>
                            <span
                                class="inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 mt-1">
                                <span class="w-1.5 h-1.5 rounded-full bg-yellow-500 animate-pulse"></span>
                                Awaiting Contract
                            </span>
                        </div>

                        <div class="bg-white/50 p-4 rounded-xl border border-white/60">
                            <p class="text-xs text-slate-500 uppercase font-bold">Target Kickoff</p>
                            <p class="text-black font-semibold text-lg">TBD</p>
                        </div>
                    </div>
                </div>

                <div class="mt-8 pt-6 border-t border-slate-200">
                    <p class="text-xs text-slate-500 mb-3 font-medium">QUICK LINKS (Active after Kickoff)</p>
                    <div class="flex gap-3">
                        <button
                            class="flex-1 btn-disabled bg-slate-100 text-slate-400 py-3 rounded-xl font-semibold flex items-center justify-center gap-2 border border-slate-200">
                            <i class="fa-brands fa-slack"></i> Slack
                        </button>
                        <button
                            class="flex-1 btn-disabled bg-slate-100 text-slate-400 py-3 rounded-xl font-semibold flex items-center justify-center gap-2 border border-slate-200">
                            <i class="fa-brands fa-google-drive"></i> Drive
                        </button>
                    </div>
                </div>
            </div>

            <!-- RIGHT: Progress Tracker & Introduction -->
            <div class="md:col-span-2 flex flex-col gap-8">
                <!-- Progress Card -->
                <div class="card border border-white/50">
                    <div class="flex justify-between items-end mb-4">
                        <div>
                            <h3 class="text-xl font-bold text-black">Setup Progress</h3>
                            <p class="text-slate-600 text-sm mt-1">Complete the checklist below to unlock your project
                                launch.</p>
                        </div>
                        <div class="text-right">
                            <span id="progress-text" class="text-3xl font-bold text-black">0%</span>
                            <p class="text-xs text-slate-500 font-semibold uppercase">Completion</p>
                        </div>
                    </div>

                    <!-- Progress Bar -->
                    <div class="w-full bg-gray-200 rounded-full h-4 overflow-hidden border border-gray-300 inner-glow">
                        <div id="progress-bar" class="bg-black h-4 rounded-full transition-all duration-700 ease-out"
                            style="width: 0%"></div>
                    </div>
                    <p id="steps-count" class="text-right text-xs text-slate-500 mt-2 font-medium">Step 0 of 7 Complete
                    </p>
                </div>

                <!-- Info Block -->
                <div class="bg-white/40 backdrop-blur-md rounded-3xl p-6 border border-white/40 flex items-start gap-4">
                    <div
                        class="bg-black text-white w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 mt-1">
                        <i class="fa-solid fa-info"></i>
                    </div>
                    <div>
                        <h4 class="font-bold text-black text-lg">Why this portal?</h4>
                        <p class="text-slate-700 text-sm mt-1">
                            This is your home base. Instead of digging through emails, everything you need to officially
                            start your project is organized here. Your progress saves automatically.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- ACCORDION PIPELINE -->
        <section class="max-w-4xl mx-auto">
            <h2 class="text-2xl font-bold text-black mb-6 pl-2">Onboarding Pipeline</h2>

            <div class="space-y-4" id="onboarding-steps">

                <!-- STEP 1: Welcome -->
                <details
                    class="group bg-white/60 backdrop-blur-md border border-white/50 rounded-2xl shadow-sm hover:shadow-md transition-all duration-300"
                    open>
                    <summary class="flex items-center justify-between p-5 cursor-pointer select-none">
                        <div class="flex items-center gap-4">
                            <label class="custom-checkbox relative flex items-center cursor-pointer"
                                onclick="event.stopPropagation()">
                                <input type="checkbox" class="step-checkbox sr-only" data-step="1">
                                <div
                                    class="w-6 h-6 border-2 border-slate-300 rounded-full transition-colors flex items-center justify-center bg-white">
                                    <svg class="w-3.5 h-3.5 text-white hidden pointer-events-none" fill="none"
                                        stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3"
                                            d="M5 13l4 4L19 7"></path>
                                    </svg>
                                </div>
                            </label>
                            <span class="font-bold text-black text-lg group-open:text-indigo-600 transition-colors">1.
                                Welcome & Expectations</span>
                        </div>
                        <i
                            class="fa-solid fa-chevron-down text-slate-400 group-open:rotate-180 transition-transform duration-300"></i>
                    </summary>
                    <div class="px-5 pb-6 pl-16 border-t border-slate-100/50 pt-4">
                        <p class="text-slate-700 mb-4">Watch this brief video from Leon to understand exactly what the
                            next 2 weeks look like and how we operate.</p>
                        <div
                            class="aspect-video w-full bg-slate-900 rounded-xl flex items-center justify-center text-white/50 shadow-inner">
                            <!-- Placeholder for Loom Embed -->
                            <div class="text-center">
                                <i class="fa-brands fa-loom text-4xl mb-2"></i>
                                <p>Loom Welcome Video Embed</p>
                            </div>
                        </div>
                    </div>
                </details>

                <!-- STEP 2: Contract -->
                <details
                    class="group bg-white/60 backdrop-blur-md border border-white/50 rounded-2xl shadow-sm hover:shadow-md transition-all duration-300">
                    <summary class="flex items-center justify-between p-5 cursor-pointer select-none">
                        <div class="flex items-center gap-4">
                            <label class="custom-checkbox relative flex items-center cursor-pointer"
                                onclick="event.stopPropagation()">
                                <input type="checkbox" class="step-checkbox sr-only" data-step="2">
                                <div
                                    class="w-6 h-6 border-2 border-slate-300 rounded-full transition-colors flex items-center justify-center bg-white">
                                    <svg class="w-3.5 h-3.5 text-white hidden pointer-events-none" fill="none"
                                        stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3"
                                            d="M5 13l4 4L19 7"></path>
                                    </svg>
                                </div>
                            </label>
                            <span class="font-bold text-black text-lg group-open:text-indigo-600 transition-colors">2.
                                Contract & Payment</span>
                        </div>
                        <i
                            class="fa-solid fa-chevron-down text-slate-400 group-open:rotate-180 transition-transform duration-300"></i>
                    </summary>
                    <div class="px-5 pb-6 pl-16 border-t border-slate-100/50 pt-4">
                        <p class="text-slate-700 mb-6">Review your proposal, sign the agreement, and process the initial
                            invoice to secure your spot in our production queue.</p>

                        <div class="grid md:grid-cols-2 gap-4 mb-6">
                            <a href="#"
                                class="block p-4 bg-white border border-slate-200 rounded-xl hover:border-black transition-colors text-center shadow-sm">
                                <i class="fa-solid fa-file-signature text-2xl text-slate-800 mb-2"></i>
                                <h4 class="font-bold text-black">Sign Agreement</h4>
                                <p class="text-xs text-slate-500">via SignWell</p>
                            </a>
                            <a href="#"
                                class="block p-4 bg-white border border-slate-200 rounded-xl hover:border-black transition-colors text-center shadow-sm">
                                <i class="fa-solid fa-credit-card text-2xl text-slate-800 mb-2"></i>
                                <h4 class="font-bold text-black">Process Invoice</h4>
                                <p class="text-xs text-slate-500">via Stripe</p>
                            </a>
                        </div>

                        <!-- Tally Confirmation Placeholder -->
                        <div class="bg-gray-50 rounded-xl p-4 border border-gray-200">
                            <p class="text-xs text-center text-gray-500 mb-2">Once signed & paid, confirm below:</p>
                            <iframe data-tally-src="https://tally.so/embed/xxxx?hideTitle=1&step=contract"
                                loading="lazy" width="100%" height="200" frameborder="0" title="Contract Confirmation"
                                class="rounded-lg"></iframe>
                        </div>
                    </div>
                </details>

                <!-- STEP 3: Access Collection -->
                <details
                    class="group bg-white/60 backdrop-blur-md border border-white/50 rounded-2xl shadow-sm hover:shadow-md transition-all duration-300">
                    <summary class="flex items-center justify-between p-5 cursor-pointer select-none">
                        <div class="flex items-center gap-4">
                            <label class="custom-checkbox relative flex items-center cursor-pointer"
                                onclick="event.stopPropagation()">
                                <input type="checkbox" class="step-checkbox sr-only" data-step="3">
                                <div
                                    class="w-6 h-6 border-2 border-slate-300 rounded-full transition-colors flex items-center justify-center bg-white">
                                    <svg class="w-3.5 h-3.5 text-white hidden pointer-events-none" fill="none"
                                        stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3"
                                            d="M5 13l4 4L19 7"></path>
                                    </svg>
                                </div>
                            </label>
                            <span class="font-bold text-black text-lg group-open:text-indigo-600 transition-colors">3.
                                Access & Assets</span>
                        </div>
                        <i
                            class="fa-solid fa-chevron-down text-slate-400 group-open:rotate-180 transition-transform duration-300"></i>
                    </summary>
                    <div class="px-5 pb-6 pl-16 border-t border-slate-100/50 pt-4">
                        <p class="text-slate-700 mb-4">Securely provide access to your existing accounts (Website,
                            Hosting, Socials) so we can audit and prepare for launch.</p>
                        <!-- Tally Embed Placeholder -->
                        <iframe data-tally-src="https://tally.so/embed/xxxx?hideTitle=1&step=access" loading="lazy"
                            width="100%" height="400" frameborder="0" title="Access Collection"
                            class="rounded-xl border border-slate-200"></iframe>
                    </div>
                </details>

                <!-- STEP 4: Intake Survey -->
                <details
                    class="group bg-white/60 backdrop-blur-md border border-white/50 rounded-2xl shadow-sm hover:shadow-md transition-all duration-300">
                    <summary class="flex items-center justify-between p-5 cursor-pointer select-none">
                        <div class="flex items-center gap-4">
                            <label class="custom-checkbox relative flex items-center cursor-pointer"
                                onclick="event.stopPropagation()">
                                <input type="checkbox" class="step-checkbox sr-only" data-step="4">
                                <div
                                    class="w-6 h-6 border-2 border-slate-300 rounded-full transition-colors flex items-center justify-center bg-white">
                                    <svg class="w-3.5 h-3.5 text-white hidden pointer-events-none" fill="none"
                                        stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3"
                                            d="M5 13l4 4L19 7"></path>
                                    </svg>
                                </div>
                            </label>
                            <span class="font-bold text-black text-lg group-open:text-indigo-600 transition-colors">4.
                                Strategy Intake</span>
                        </div>
                        <i
                            class="fa-solid fa-chevron-down text-slate-400 group-open:rotate-180 transition-transform duration-300"></i>
                    </summary>
                    <div class="px-5 pb-6 pl-16 border-t border-slate-100/50 pt-4">
                        <p class="text-slate-700 mb-4">The deep dive. This form helps us understand your brand voice,
                            competitors, and specific goals for this campaign.</p>
                        <!-- Tally Embed Placeholder -->
                        <iframe data-tally-src="https://tally.so/embed/xxxx?hideTitle=1&step=intake" loading="lazy"
                            width="100%" height="500" frameborder="0" title="Intake Survey"
                            class="rounded-xl border border-slate-200"></iframe>
                    </div>
                </details>

                <!-- STEP 5: Schedule Kickoff -->
                <details
                    class="group bg-white/60 backdrop-blur-md border border-white/50 rounded-2xl shadow-sm hover:shadow-md transition-all duration-300">
                    <summary class="flex items-center justify-between p-5 cursor-pointer select-none">
                        <div class="flex items-center gap-4">
                            <label class="custom-checkbox relative flex items-center cursor-pointer"
                                onclick="event.stopPropagation()">
                                <input type="checkbox" class="step-checkbox sr-only" data-step="5">
                                <div
                                    class="w-6 h-6 border-2 border-slate-300 rounded-full transition-colors flex items-center justify-center bg-white">
                                    <svg class="w-3.5 h-3.5 text-white hidden pointer-events-none" fill="none"
                                        stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3"
                                            d="M5 13l4 4L19 7"></path>
                                    </svg>
                                </div>
                            </label>
                            <span class="font-bold text-black text-lg group-open:text-indigo-600 transition-colors">5.
                                Schedule Kickoff</span>
                        </div>
                        <i
                            class="fa-solid fa-chevron-down text-slate-400 group-open:rotate-180 transition-transform duration-300"></i>
                    </summary>
                    <div class="px-5 pb-6 pl-16 border-t border-slate-100/50 pt-4">
                        <p class="text-slate-700 mb-4">Book a time for our 45-minute Kickoff Call where we review the
                            strategy and finalize the timeline.</p>
                        <div
                            class="aspect-video w-full bg-white border border-slate-200 rounded-xl flex items-center justify-center text-slate-400 shadow-inner">
                            <!-- Placeholder for Calendly -->
                            <div class="text-center">
                                <i class="fa-regular fa-calendar-check text-4xl mb-2"></i>
                                <p>Calendly Embed Area</p>
                            </div>
                        </div>
                    </div>
                </details>

                <!-- STEP 6: Final Confirmation -->
                <details
                    class="group bg-white/60 backdrop-blur-md border border-white/50 rounded-2xl shadow-sm hover:shadow-md transition-all duration-300">
                    <summary class="flex items-center justify-between p-5 cursor-pointer select-none">
                        <div class="flex items-center gap-4">
                            <label class="custom-checkbox relative flex items-center cursor-pointer"
                                onclick="event.stopPropagation()">
                                <input type="checkbox" class="step-checkbox sr-only" data-step="6">
                                <div
                                    class="w-6 h-6 border-2 border-slate-300 rounded-full transition-colors flex items-center justify-center bg-white">
                                    <svg class="w-3.5 h-3.5 text-white hidden pointer-events-none" fill="none"
                                        stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3"
                                            d="M5 13l4 4L19 7"></path>
                                    </svg>
                                </div>
                            </label>
                            <span class="font-bold text-black text-lg group-open:text-indigo-600 transition-colors">6.
                                Final Confirmation</span>
                        </div>
                        <i
                            class="fa-solid fa-chevron-down text-slate-400 group-open:rotate-180 transition-transform duration-300"></i>
                    </summary>
                    <div class="px-5 pb-6 pl-16 border-t border-slate-100/50 pt-4">
                        <p class="text-slate-700 mb-4">Double check that you have joined the Slack channel and received
                            the Google Drive invite (sent via email after Step 3).</p>
                        <div class="flex items-center gap-3 bg-indigo-50 p-4 rounded-xl border border-indigo-100">
                            <i class="fa-solid fa-thumbs-up text-indigo-600 text-xl"></i>
                            <p class="text-sm text-indigo-900"><strong>Ready to go?</strong> Check the box to confirm
                                you are ready for the kickoff call.</p>
                        </div>
                    </div>
                </details>

                <!-- STEP 7: Completion -->
                <div id="step-7-container" class="opacity-50 transition-all duration-500">
                    <div
                        class="bg-white/40 backdrop-blur-md border border-white/50 rounded-2xl p-5 flex items-center gap-4">
                        <label class="custom-checkbox relative flex items-center cursor-pointer">
                            <input type="checkbox" class="step-checkbox sr-only" data-step="7" disabled>
                            <div
                                class="w-6 h-6 border-2 border-slate-300 rounded-full bg-slate-100 flex items-center justify-center">
                                <svg class="w-3.5 h-3.5 text-black hidden pointer-events-none" fill="none"
                                    stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3"
                                        d="M5 13l4 4L19 7"></path>
                                </svg>
                            </div>
                        </label>
                        <span class="font-bold text-slate-500 text-lg">7. Onboarding Complete</span>
                    </div>
                </div>

            </div>
        </section>

    </main>

    <!-- FOOTER -->
    <footer class="bg-white/10 backdrop-blur-lg border-t border-white/20 text-slate-800 mt-auto">
        <div
            class="max-w-7xl mx-auto px-8 py-8 flex flex-col md:flex-row justify-between items-center text-sm text-slate-500">
            <div>© 2025 Lovoson Media. All Rights Reserved.</div>
            <div class="flex gap-4 mt-2 md:mt-0">
                <a href="#" class="hover:text-black">Privacy Policy</a>
                <a href="mailto:support@lovosonmedia.com" class="hover:text-black">Support</a>
            </div>
        </div>
    </footer>

    <!-- SCRIPT LOADER FOR TALLY -->
    <script async src="https://tally.so/widgets/embed.js"></script>

    <!-- PAGE LOGIC -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // ---------------------------------------------------------
            // 1. URL PARAMETER PARSING
            // ---------------------------------------------------------
            const params = new URLSearchParams(window.location.search);
            const clientName = params.get('client');

            if (clientName) {
                // Decode URI component to handle spaces (e.g., "Old%20School")
                const formattedName = decodeURIComponent(clientName);
                document.getElementById('client-name-display').textContent = formattedName;

                // Update Tally Hidden Fields (Dynamic Injection)
                // This finds all Tally iframes and appends the client_id to the src
                document.querySelectorAll('iframe[data-tally-src]').forEach(iframe => {
                    let src = iframe.getAttribute('data-tally-src');
                    if (src && !src.includes('client_id=')) {
                        // Append client param to Tally URL
                        const newSrc = `${src}&client_id=${encodeURIComponent(formattedName)}`;
                        iframe.setAttribute('data-tally-src', newSrc);
                        // If src is already set (loaded), update it too
                        if (iframe.src) iframe.src = newSrc;
                    }
                });
            }

            // ---------------------------------------------------------
            // 2. PROGRESS BAR & CHECKBOX LOGIC
            // ---------------------------------------------------------
            const checkboxes = document.querySelectorAll('.step-checkbox');
            const progressBar = document.getElementById('progress-bar');
            const progressText = document.getElementById('progress-text');
            const stepsCount = document.getElementById('steps-count');
            const totalSteps = 7;
            const storageKey = `lovoson_onboarding_${clientName || 'default'}`;

            // Load saved state
            const savedState = JSON.parse(localStorage.getItem(storageKey)) || {};

            function updateProgress() {
                const checkedCount = document.querySelectorAll('.step-checkbox:checked').length;
                const percentage = Math.round((checkedCount / totalSteps) * 100);

                // Update UI
                progressBar.style.width = `${percentage}%`;
                progressText.textContent = `${percentage}%`;
                stepsCount.textContent = `Step ${checkedCount} of ${totalSteps} Complete`;

                // Logic for Step 7 (Visual unlock)
                const step7Container = document.getElementById('step-7-container');
                const step7Checkbox = document.querySelector('.step-checkbox[data-step="7"]');

                if (checkedCount >= 6 && !step7Checkbox.checked) {
                    step7Container.classList.remove('opacity-50');
                    step7Checkbox.disabled = false;
                    // Auto-check step 7 if user manually checks 6? 
                    // No, let them have the satisfaction of clicking the final box.
                }

                if (checkedCount === totalSteps) {
                    // Celebration State
                    progressBar.classList.remove('bg-black');
                    progressBar.classList.add('bg-green-500');
                    // Could trigger confetti here
                }
            }

            // Initialize Checkboxes
            checkboxes.forEach(box => {
                const step = box.dataset.step;

                // Apply saved state
                if (savedState[step]) {
                    box.checked = true;
                    // If checked, maybe open the next accordion? (Optional UX enhancement)
                }

                // Event Listener
                box.addEventListener('change', (e) => {
                    // Save to local storage
                    savedState[step] = e.target.checked;
                    localStorage.setItem(storageKey, JSON.stringify(savedState));

                    updateProgress();
                });
            });

            // Run once on load
            updateProgress();
        });
    </script>
</body>

</html>